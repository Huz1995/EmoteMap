<div class="user-profile">
  <h1 style="width: 70%; margin-left: 20%; margin-top: 30px">
    Welcome to EmoteMap
  </h1>
  <h2 style="width: 70%; margin-left: 12%; text-align: center">
    Please enter you age and gender so we can accuratly represent mental health
    issues across different age groups and genders across the world
  </h2>

  <div class="dob" style="display: flex; margin-left: 5%; margin-top: 40px">
    <p style="position: relative; top: 18px">Date Of Birth:</p>
    <p
      *ngIf="!isDobNull && !dobEdit"
      style="width: 200px; position: relative; bottom: -16px; margin-left: 10px"
    >
      {{ userDetails.dob }}
    </p>
    <button
      *ngIf="!isDobNull && !dobEdit"
      class="editdob-button"
      mat-raised-button
      color="primary"
      (click)="onAgeEdit()"
    >
      <mat-icon>edit</mat-icon>
    </button>
    <form
      (submit)="saveDate(dobForm)"
      *ngIf="isDobNull || dobEdit"
      #dobForm="ngForm"
    >
      <mat-form-field
        appearance="fill"
        style="
          width: 200px;
          position: relative;
          bottom: 18px;
          margin-left: 10px;
        "
      >
        <mat-label>Choose a date</mat-label>
        <input
          [max]="todayDate"
          matInput
          name="dob"
          [matDatepicker]="picker"
          onkeydown="return false"
          ngModel
          #dobInput="ngModel"
          required
        />
        <mat-error *ngIf="dobInput.invalid"
          >Please enter a valid date.</mat-error
        >
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <button
        class="dob-button"
        mat-raised-button
        color="primary"
        type="submit"
      >
        <mat-icon>save</mat-icon>
      </button>
    </form>
  </div>

  <div
    class="age"
    *ngIf="!isDobNull && !dobEdit"
    style="width: 200px; position: relative; bottom: -16px; margin-left: 20px"
  >
    Age: {{ age }} years old
  </div>

  <div class="gender" style="display: flex; margin-left: 5%; margin-top: 40px">
    <form
      (submit)="saveGender(genderForm)"
      #genderForm="ngForm"
      class="gender-tick"
    >
      <mat-label>Gender: </mat-label>
      <mat-form-field *ngIf="isGenderNull || genderEdit" >
        <input
          matInput
          name="gender"
          ngModel
          type="text"
          placeholder="male/female"
          #gender="ngModel"
          required
        />
        <mat-error *ngIf="gender.invalid"
          >Please enter male or female.</mat-error
        >
      </mat-form-field>
      <button
      *ngIf="isGenderNull || genderEdit" 
        class="dob-button"
        mat-raised-button
        color="primary"
        type="submit"
      >
        <mat-icon>save</mat-icon>
      </button>
    </form>
    <div *ngIf="!isGenderNull && !genderEdit" style="width: 200px; position: relative; margin-left: 10px">
        {{userDetails.gender}}
    </div>
    <button
    *ngIf="!isGenderNull && !genderEdit"
    class="editgender-button"
    mat-raised-button
    color="primary"
    (click)="onGenderEdit()"
  >
    <mat-icon>edit</mat-icon>
  </button>
  </div>
</div>
